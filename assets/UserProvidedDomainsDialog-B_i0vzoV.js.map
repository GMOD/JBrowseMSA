{"version":3,"file":"UserProvidedDomainsDialog-B_i0vzoV.js","sources":["../../../lib/dist/components/dialogs/UserProvidedDomainsDialog.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Dialog } from '@jbrowse/core/ui';\nimport { getSession } from '@jbrowse/core/util';\nimport { Button, DialogActions, DialogContent, FormControl, FormControlLabel, Radio, RadioGroup, TextField, Typography, } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport { jsonfetch } from '../../fetchUtils';\nconst UserProvidedDomainsDialog = observer(function ({ handleClose, model, }) {\n    const [file, setFile] = useState();\n    const [choice, setChoice] = useState('file');\n    const [interProURL, setInterProURL] = useState('');\n    return (React.createElement(Dialog, { maxWidth: \"xl\", title: \"Open protein domains from file\", onClose: () => {\n            handleClose();\n        }, open: true },\n        React.createElement(DialogContent, null,\n            React.createElement(\"div\", null,\n                React.createElement(Typography, null, \"Open a JSON file of InterProScan results that you run remotely on EBI servers or locally\"),\n                React.createElement(\"div\", { style: { display: 'flex', margin: 30 } },\n                    React.createElement(FormControl, { component: \"fieldset\" },\n                        React.createElement(RadioGroup, { value: choice, onChange: event => {\n                                setChoice(event.target.value);\n                            } },\n                            React.createElement(FormControlLabel, { value: \"url\", control: React.createElement(Radio, null), label: \"URL\" }),\n                            React.createElement(FormControlLabel, { value: \"file\", control: React.createElement(Radio, null), label: \"File\" }))),\n                    choice === 'url' ? (React.createElement(\"div\", null,\n                        React.createElement(Typography, null, \"Open a InterProScan JSON file remote URL\"),\n                        React.createElement(TextField, { label: \"URL\", value: interProURL, onChange: event => {\n                                setInterProURL(event.target.value);\n                            } }))) : null,\n                    choice === 'file' ? (React.createElement(\"div\", { style: { paddingTop: 20 } },\n                        React.createElement(Typography, null, \"Open a InterProScan JSON file file from your local drive\"),\n                        React.createElement(Button, { variant: \"outlined\", component: \"label\" },\n                            \"Choose File\",\n                            React.createElement(\"input\", { type: \"file\", hidden: true, onChange: ({ target }) => {\n                                    const file = target.files?.[0];\n                                    if (file) {\n                                        setFile(file);\n                                    }\n                                } })))) : null))),\n        React.createElement(DialogActions, null,\n            React.createElement(Button, { variant: \"contained\", color: \"primary\", onClick: () => {\n                    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                    ;\n                    (async () => {\n                        try {\n                            const ret = file\n                                ? JSON.parse(await file.text())\n                                : await jsonfetch(interProURL);\n                            model.setInterProAnnotations(Object.fromEntries(ret.results.map(r => [r.xref[0].id, r])));\n                            model.setShowDomains(true);\n                            getSession(model).notify('Loaded interproscan results', 'success');\n                        }\n                        catch (e) {\n                            console.error(e);\n                            getSession(model).notifyError(`${e}`, e);\n                        }\n                        finally {\n                            model.setStatus();\n                        }\n                    })();\n                    handleClose();\n                } }, \"Open results\"))));\n});\nexport default UserProvidedDomainsDialog;\n//# sourceMappingURL=UserProvidedDomainsDialog.js.map"],"names":["UserProvidedDomainsDialog","observer","handleClose","model","file","setFile","useState","choice","setChoice","interProURL","setInterProURL","React","Dialog","DialogContent","Typography","FormControl","RadioGroup","event","FormControlLabel","Radio","TextField","Button","target","DialogActions","ret","jsonfetch","r","getSession","e"],"mappings":"0WAMK,MAACA,EAA4BC,EAAS,SAAU,CAAE,YAAAC,EAAa,MAAAC,CAAK,EAAK,CAC1E,KAAM,CAACC,EAAMC,CAAO,EAAIC,WAAQ,EAC1B,CAACC,EAAQC,CAAS,EAAIF,EAAAA,SAAS,MAAM,EACrC,CAACG,EAAaC,CAAc,EAAIJ,EAAAA,SAAS,EAAE,EACjD,OAAQK,EAAM,cAAcC,EAAAA,OAAQ,CAAE,SAAU,KAAM,MAAO,iCAAkC,QAAS,IAAM,CACtGV,EAAW,CACf,EAAG,KAAM,EAAI,EACbS,EAAM,cAAcE,EAAe,KAC/BF,EAAM,cAAc,MAAO,KACvBA,EAAM,cAAcG,EAAY,KAAM,0FAA0F,EAChIH,EAAM,cAAc,MAAO,CAAE,MAAO,CAAE,QAAS,OAAQ,OAAQ,GAAI,EAC/DA,EAAM,cAAcI,EAAa,CAAE,UAAW,UAAU,EACpDJ,EAAM,cAAcK,EAAY,CAAE,MAAOT,EAAQ,SAAUU,GAAS,CAC5DT,EAAUS,EAAM,OAAO,KAAK,CAChC,CAAC,EACDN,EAAM,cAAcO,EAAkB,CAAE,MAAO,MAAO,QAASP,EAAM,cAAcQ,EAAO,IAAI,EAAG,MAAO,KAAK,CAAE,EAC/GR,EAAM,cAAcO,EAAkB,CAAE,MAAO,OAAQ,QAASP,EAAM,cAAcQ,EAAO,IAAI,EAAG,MAAO,MAAM,CAAE,CAAC,CAAC,EAC3HZ,IAAW,MAASI,EAAM,cAAc,MAAO,KAC3CA,EAAM,cAAcG,EAAY,KAAM,0CAA0C,EAChFH,EAAM,cAAcS,EAAW,CAAE,MAAO,MAAO,MAAOX,EAAa,SAAUQ,GAAS,CAC9EP,EAAeO,EAAM,OAAO,KAAK,CACrC,CAAC,CAAE,CAAC,EAAK,KACjBV,IAAW,OAAUI,EAAM,cAAc,MAAO,CAAE,MAAO,CAAE,WAAY,GAAI,EACvEA,EAAM,cAAcG,EAAY,KAAM,0DAA0D,EAChGH,EAAM,cAAcU,EAAQ,CAAE,QAAS,WAAY,UAAW,OAAO,EACjE,cACAV,EAAM,cAAc,QAAS,CAAE,KAAM,OAAQ,OAAQ,GAAM,SAAU,CAAC,CAAE,OAAAW,CAAM,IAAO,CAC7E,MAAMlB,EAAOkB,EAAO,QAAQ,CAAC,EACzBlB,GACAC,EAAQD,CAAI,CAEpB,EAAG,CAAC,CAAC,EAAK,IAAI,CAAC,CAAC,EACxCO,EAAM,cAAcY,EAAe,KAC/BZ,EAAM,cAAcU,EAAQ,CAAE,QAAS,YAAa,MAAO,UAAW,QAAS,IAAM,EAG5E,SAAY,CACT,GAAI,CACA,MAAMG,EAAMpB,EACN,KAAK,MAAM,MAAMA,EAAK,KAAI,CAAE,EAC5B,MAAMqB,EAAUhB,CAAW,EACjCN,EAAM,uBAAuB,OAAO,YAAYqB,EAAI,QAAQ,IAAIE,GAAK,CAACA,EAAE,KAAK,CAAC,EAAE,GAAIA,CAAC,CAAC,CAAC,CAAC,EACxFvB,EAAM,eAAe,EAAI,EACzBwB,EAAAA,WAAWxB,CAAK,EAAE,OAAO,8BAA+B,SAAS,CACrE,OACOyB,EAAG,CACN,QAAQ,MAAMA,CAAC,EACfD,EAAAA,WAAWxB,CAAK,EAAE,YAAY,GAAGyB,CAAC,GAAIA,CAAC,CAC3C,QACxB,CAC4BzB,EAAM,UAAS,CACnB,CACJ,GAAC,EACDD,EAAW,CACf,CAAC,EAAI,cAAc,CAAC,CAAC,CACrC,CAAC"}